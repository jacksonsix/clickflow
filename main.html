<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>jQuery UI Draggable - Default functionality</title>
  <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
 
  <style>
        .ui-widget-content { width: 50px; height: 50px; padding: 0.5em; }
  </style>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

</head>
<body>
 <input id="btn" type="button"> 
 

<div id="draggable" class="ui-widget-content">
  <p>Drag me around</p>
</div>
 
  <script>
      var num = 0;
	  var current ={};
	  
	  $( function() {
		$( "#draggable" ).draggable();
	  } );
	  
	  $("#btn").on('click', function(){
	    addElement();
	  })
	  
	  function addElement () { 
		  var newDiv = document.createElement("div");
		  var name = 'c' + num++;
		  newDiv.setAttribute("id", name);
		  newDiv.setAttribute("class","ui-widget-content ui-draggable ui-draggable-handle");
		  //newDiv.setAttribute("style","position: relative;");
		 
		  var newContent = document.createTextNode("Hi there and greetings!"); 
		  newDiv.appendChild(newContent); 

		  var currentDiv = document.getElementById("btn");
		  document.body.insertBefore(newDiv, currentDiv);
		  
		   $("#" + name).draggable();
	 }
  </script>
</body>
</html>
